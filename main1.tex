\documentclass{article}


\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tikz}

\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{xparse}


\pgfplotsset{compat = newest}
\usepackage{hyperref}
\usepackage{cleveref}

\usepgfplotslibrary{groupplots}
\usetikzlibrary{external}
\usetikzlibrary{external-autocache}
\pgfplotsset{compat=1.18}

\begin{document}
{main1.tex}\\
\Cref{fig:first}, expected: 1\\
% Figure~\ref{fig:second}, expected: 2\\
\Cref{subcap:2}


\begin{figure}
  \includegraphics[width=3cm]{example-image}
  \caption{first}
  \label{fig:first}
\end{figure}

\begin{figure}
  \includegraphics[width=3cm]{example-image}
  \caption{second}
  \label{fig:second}
\end{figure}

\begin{figure}[h]
  %   \includegraphics[width=3cm]{example-image}
  \input{src/subdirA/image.tikz}
  \caption{third}
  \label{fig:third}
\end{figure}
\end{document}